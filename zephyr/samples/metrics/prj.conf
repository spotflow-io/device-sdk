# Spotflow Metrics Sample Configuration
#
# This sample demonstrates metrics collection with:
# - System metrics auto-collection (memory, heap, network, CPU)
# - Custom application metrics
# - Log integration

# NXP FRDM-RW612 board uses Wi-Fi by default. If you want to use Ethernet instead,
# please use following:
#CONFIG_SPOTFLOW_USE_ETH=y
#CONFIG_SPOTFLOW_USE_WIFI=n

# ============================================
# Spotflow SDK
# ============================================
CONFIG_SPOTFLOW=y
CONFIG_SPOTFLOW_MODULE_DEFAULT_LOG_LEVEL=3

# ============================================
# Metrics Configuration
# ============================================
CONFIG_SPOTFLOW_METRICS=y
CONFIG_SPOTFLOW_METRICS_QUEUE_SIZE=32
CONFIG_SPOTFLOW_METRICS_CBOR_BUFFER_SIZE=512
CONFIG_SPOTFLOW_METRICS_MAX_REGISTERED=32
CONFIG_SPOTFLOW_METRICS_DEFAULT_AGGREGATION_INTERVAL=1
CONFIG_SPOTFLOW_METRICS_MAX_LABELS_PER_METRIC=8
CONFIG_HEAP_MEM_POOL_ADD_SIZE_SPOTFLOW_METRICS=32768
CONFIG_SPOTFLOW_METRICS_PROCESSING_LOG_LEVEL=3

# ============================================
# System Metrics (Auto-Collection)
# ============================================
CONFIG_SPOTFLOW_METRICS_SYSTEM=y
CONFIG_SPOTFLOW_METRICS_SYSTEM_MEMORY=y
CONFIG_SPOTFLOW_METRICS_SYSTEM_HEAP=y
CONFIG_SPOTFLOW_METRICS_SYSTEM_NETWORK=y
CONFIG_SPOTFLOW_METRICS_SYSTEM_CPU=y
CONFIG_SPOTFLOW_METRICS_SYSTEM_CONNECTION=y
CONFIG_SPOTFLOW_METRICS_SYSTEM_RESET_CAUSE=y
CONFIG_SPOTFLOW_METRICS_SYSTEM_INTERVAL=60
CONFIG_HEAP_MEM_POOL_ADD_SIZE_SPOTFLOW_METRICS_SYSTEM=32768

CONFIG_THREAD_NAME=y

# ============================================
# Logging Configuration
# ============================================
CONFIG_PRINTK=y
CONFIG_LOG=y
CONFIG_LOG_FUNC_NAME_PREFIX_INF=y
CONFIG_LOG_FUNC_NAME_PREFIX_WRN=y
CONFIG_LOG_FUNC_NAME_PREFIX_ERR=y

# Spotflow log backend (optional - enables log transmission to cloud)
CONFIG_SPOTFLOW_LOG_BACKEND=y

# ============================================
# Networking
# ============================================
CONFIG_NETWORKING=y
CONFIG_NET_MGMT=y
CONFIG_NET_MGMT_EVENT=y
CONFIG_NET_MGMT_EVENT_INFO=y
CONFIG_NET_CONFIG_AUTO_INIT=n
CONFIG_NET_CONNECTION_MANAGER=y
CONFIG_NET_DHCPV4=y
CONFIG_NET_IPV4=y
CONFIG_NET_IPV6=n
CONFIG_NET_TCP=y
CONFIG_NET_UDP=y

# Network statistics (required for network metrics)
CONFIG_NET_STATISTICS=y

# ============================================
# Thread Runtime Statistics (for CPU metrics)
# ============================================
CONFIG_THREAD_RUNTIME_STATS=y
CONFIG_THREAD_RUNTIME_STATS_USE_TIMING_FUNCTIONS=y

# ============================================
# Persistence (settings storage)
# ============================================
CONFIG_FLASH=y
CONFIG_FLASH_MAP=y
CONFIG_NVS=y
CONFIG_SETTINGS=y
CONFIG_SETTINGS_NVS=y

# ============================================
# System Configuration
# ============================================
CONFIG_MAIN_STACK_SIZE=4096
CONFIG_HEAP_MEM_POOL_SIZE=196608

# Hardware info (required for reset cause metric)
CONFIG_HWINFO=y
